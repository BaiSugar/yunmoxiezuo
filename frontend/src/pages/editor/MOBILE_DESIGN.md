# 📱 编辑器移动端适配设计

## 🎯 设计目标

- **内容为王**：编辑器占据主要屏幕空间
- **触摸友好**：大按钮，易点击区域
- **渐进增强**：PC端保持完整功能，移动端优化核心体验

## 📐 布局方案

### PC端（≥1024px）
```
┌────────────────────────────────────┐
│        EditorHeader                │
├───────┬────────────────────┬───────┤
│ 章节  │                    │  AI  │
│ 列表  │    内容编辑器       │ 助手 │
│       │                    │      │
└───────┴────────────────────┴───────┘
```

### 移动端（<1024px）
```
┌────────────────────────┐
│    EditorHeader        │
├────────────────────────┤
│                        │
│                        │
│     内容编辑器          │
│      (全屏)            │
│                        │
├────────────────────────┤
│  章节 | 保存 | AI | 更多 │ ← 底部工具栏
└────────────────────────┘

章节列表 (左侧抽屉)     AI助手 (右侧抽屉)
```

## 🎨 移动端组件

### 1. MobileDrawer
- **用途**：侧边抽屉容器
- **特性**：
  - 从左/右滑出
  - 遮罩层点击关闭
  - 阻止背景滚动
  - 宽度85%，最大320px

### 2. MobileToolbar
- **用途**：底部工具栏
- **功能**：
  - 📋 章节列表
  - 💾 保存
  - 🤖 AI助手
  - ☰ 更多

### 3. 响应式EditorContent
- **移动端调整**：
  - 全屏显示
  - 底部留出工具栏空间(64px)
  - 移除装饰性圆角和阴影

## 🔄 交互流程

### 打开章节列表
1. 点击底部工具栏"章节"按钮
2. 左侧抽屉滑出
3. 显示完整章节列表
4. 点击章节 → 切换内容 + 关闭抽屉

### 打开AI助手
1. 点击底部工具栏"AI助手"按钮
2. 右侧抽屉滑出
3. 显示AI对话界面

### 创建章节/分卷
1. 在抽屉中点击对应按钮
2. 弹出模态框
3. 创建完成后关闭抽屉和模态框

## 📱 适配细节

### Tailwind响应式断点
- `lg:` - PC端样式 (≥1024px)
- 无前缀 - 移动端样式 (<1024px)

### 关键类名
```css
/* 仅PC端显示 */
hidden lg:block

/* 移动端全宽，PC端固定宽度 */
width: width > 0 ? `${width}px` : '100%'

/* 移动端底部留空 */
mb-16 lg:mb-0
```

## 🎯 用户体验优化

### 移动端
- ✅ 编辑器占据80%+屏幕
- ✅ 大触摸目标（按钮至少44x44px）
- ✅ 避免误触（确认对话框）
- ✅ 快速切换章节

### PC端
- ✅ 保持三栏布局
- ✅ 可调整宽度
- ✅ 拖拽排序
- ✅ 完整功能

## 🚀 性能考虑

- 抽屉只在移动端渲染
- 使用CSS过渡动画（GPU加速）
- 避免不必要的重渲染
- 懒加载AI助手内容

## 📝 已实现功能

- [x] 移动端检测（Tailwind lg断点）
- [x] 抽屉式章节列表
- [x] 抽屉式AI助手
- [x] 底部工具栏
- [x] 全屏编辑器
- [x] 响应式ChapterList
- [x] 响应式EditorContent

## 🔜 待优化

- [ ] 手势支持（滑动关闭抽屉）
- [ ] 虚拟滚动（长章节列表）
- [ ] PWA支持（离线编辑）
- [ ] 移动端专属编辑工具栏
- [ ] 触摸优化的文本选择
